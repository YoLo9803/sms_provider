{"version":3,"sources":["webpack:///./src/pages/smspva.vue?f186","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/pages/smspva.vue?54c6","webpack:///src/pages/smspva.vue","webpack:///./src/pages/smspva.vue?95f9","webpack:///./src/pages/smspva.vue?8836"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","render","_vm","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","service","expression","_l","key","name","country","EName","CName","Code","price","staticStyle","_v","_s","on","getNumber","slot","errInfo","_e","numberData","length","tableRowClassName","scopedSlots","_u","fn","scope","row","$event","preventDefault","handleGetMessage","$index","sms","$set","handleRestore","handleDelete","staticRenderFns","component"],"mappings":"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","file":"js/chunk-cd0844c6.ed810517.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./smspva.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./smspva.vue?vue&type=style&index=0&lang=css&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":10,\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":3}},[_c('div',[_c('el-select',{attrs:{\"value-key\":\"value\",\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"選擇服務或搜尋\"},model:{value:(_vm.service),callback:function ($$v) {_vm.service=$$v},expression:\"service\"}},_vm._l((_vm.services),function(service){return _c('el-option',{key:service.value,attrs:{\"label\":service.name,\"value\":service}})}),1)],1)]),_c('el-col',{attrs:{\"span\":4}},[_c('div',[_c('el-select',{attrs:{\"value-key\":\"value\",\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"選擇國家或搜尋\"},model:{value:(_vm.country),callback:function ($$v) {_vm.country=$$v},expression:\"country\"}},_vm._l((_vm.countrys),function(country){return _c('el-option',{key:country.value,attrs:{\"label\":country.EName+country.CName+country.Code+ '  $' +country.price,\"value\":country}},[_c('span',{staticStyle:{\"float\":\"left\",\"font-size\":\"13px\"}},[_vm._v(_vm._s(country.Code))]),_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(country.CName))]),_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(country.EName))]),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#8492a6\",\"font-size\":\"13px\"}},[_vm._v(_vm._s(\"$\" + country.price))])])}),1)],1)]),_c('el-col',{attrs:{\"span\":1}},[_c('div',[_c('el-popconfirm',{attrs:{\"title\":\"確定取碼嗎?\"},on:{\"onConfirm\":_vm.getNumber}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"primary\"},slot:\"reference\"},[_vm._v(\"快速取碼\")])],1)],1)])],1),(_vm.errorInfo)?_c('div',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.errInfo))])]):_vm._e(),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":14}},[_c('div',[(this.numberData.length>0)?_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.numberData,\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"倒數時間\"}}),_c('el-table-column',{attrs:{\"prop\":\"country\",\"label\":\"國家\"}}),_c('el-table-column',{attrs:{\"prop\":\"service\",\"label\":\"服務\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"號碼\"}}),_c('el-table-column',{attrs:{\"prop\":\"sms\",\"label\":\"接收代碼\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isGetMessageButtonVisible)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleGetMessage(scope.$index, scope.row)}}},[_vm._v(\"接收訊息\")]):_vm._e(),(!scope.row.sms == '')?_c('el-input',{staticStyle:{\"width\":\"150px\"},attrs:{\"size\":\"mini\"},model:{value:(scope.row.sms),callback:function ($$v) {_vm.$set(scope.row, \"sms\", $$v)},expression:\"scope.row.sms\"}}):_vm._e()]}}],null,false,2660119114)}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isRestoreButtonEnabled)?_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleRestore(scope.$index, scope.row)}}},[_vm._v(\"回復\")]):_vm._e(),(scope.row.isDeleteButtonEnabled)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"刪除\")]):_vm._e()]}}],null,false,1667160824)})],1):_vm._e()],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n            <el-row :gutter=\"10\" type=\"flex\" justify=\"center\">\r\n                <el-col :span=\"3\">\r\n                    <div>\r\n                        <el-select value-key=\"value\" v-model=\"service\" clearable filterable placeholder=\"選擇服務或搜尋\">\r\n                        <el-option\r\n                        v-for=\"service in services\"\r\n                        :key=\"service.value\"\r\n                        :label=\"service.name\"\r\n                        :value=\"service\">\r\n                        </el-option>\r\n                    </el-select>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                    <div>\r\n                        <el-select value-key=\"value\" v-model=\"country\" clearable filterable placeholder=\"選擇國家或搜尋\">\r\n                            <el-option\r\n                            v-for=\"country in countrys\"\r\n                            :key=\"country.value\"\r\n                            :label=\"country.EName+country.CName+country.Code+ '  $' +country.price\"\r\n                            :value=\"country\">\r\n                            <span style=\"float: left; font-size: 13px\">{{ country.Code }}</span>\r\n                            <span style=\"float: left\">{{ country.CName }}</span>\r\n                            <span style=\"float: left\">{{ country.EName }}</span>\r\n                            <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ \"$\" + country.price }}</span>\r\n                            </el-option>\r\n                        </el-select>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"1\">\r\n                    <div>\r\n                        <el-popconfirm\r\n                            title=\"確定取碼嗎?\" @onConfirm=\"getNumber\">\r\n                        <el-button type=\"primary\" slot=\"reference\">快速取碼</el-button>\r\n                        </el-popconfirm>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n            <div v-if=\"errorInfo\">\r\n                    <span style=\"color: red\">{{errInfo}}</span>\r\n            </div>\r\n        <el-row type=\"flex\" justify=\"center\">\r\n            <el-col :span=\"14\">\r\n            <div>\r\n                <el-table\r\n                :data=\"numberData\"\r\n                :row-class-name=\"tableRowClassName\"\r\n                v-if=\"this.numberData.length>0\"\r\n                style=\"width: 100%\">\r\n                <el-table-column\r\n                    prop=\"time\"\r\n                    label=\"倒數時間\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"country\"\r\n                    label=\"國家\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"service\"\r\n                    label=\"服務\"\r\n                    width=\"90\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"number\"\r\n                    label=\"號碼\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"sms\"\r\n                    label=\"接收代碼\"\r\n                    width=\"300\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                        size=\"mini\" v-if=\"scope.row.isGetMessageButtonVisible\"\r\n                        type=\"primary\"\r\n                        @click.prevent=\"handleGetMessage(scope.$index, scope.row)\">接收訊息</el-button>\r\n                        <el-input size=\"mini\" style=\"width: 150px\" v-if=\"!scope.row.sms == ''\" v-model=\"scope.row.sms\"></el-input>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                        size=\"mini\" v-if=\"scope.row.isRestoreButtonEnabled\"\r\n                        @click.prevent=\"handleRestore(scope.$index, scope.row)\">回復</el-button>\r\n                        <el-button\r\n                        size=\"mini\"\r\n                        type=\"danger\" v-if=\"scope.row.isDeleteButtonEnabled\"\r\n                        @click.prevent=\"handleDelete(scope.$index, scope.row)\">刪除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n                </el-table>\r\n            </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    created(){\r\n        this.userId = this.$route.params.userId;\r\n    },\r\n    data(){\r\n        return {\r\n            errorInfo : false,\r\n            //select item data\r\n            services: [{\r\n            value: 'opt37',\r\n            name: 'Line'\r\n            }],\r\n            service: '',\r\n\r\n            countrys: [{\r\n            value: 'MY',\r\n            Code: '+60',\r\n            CName: '馬來西亞',\r\n            EName: 'Malaysia',\r\n            price: 35\r\n            }, {\r\n            value: 'ID',\r\n            Code: '+62',\r\n            CName: '印度尼西亞',\r\n            EName: 'Indonesia',\r\n            price: 30\r\n            }, {\r\n            value: 'PT',\r\n            Code: '+351',\r\n            CName: '葡萄牙',\r\n            EName: 'Portugal',\r\n            price: 30\r\n            }],\r\n            country: '',\r\n\r\n            numberData: [\r\n                // {\r\n                //     id: 123,\r\n                //     time: '10:00',\r\n                //     timer: 600000,//十分鐘的總秒數\r\n                //     country: '+62indonesia印度尼西亞',\r\n                //     number: 123,\r\n                //     countryAPICode : 123,\r\n                //     service: 'Line33333',\r\n                //     serviceAPICode: 123,\r\n                //     sms: '',\r\n                //     isEnabled: true,\r\n                //     isRestoreButtonEnabled: false,\r\n                //     isDeleteButtonEnabled: true,\r\n                //     isGetMessageButtonVisible: true \r\n                // }\r\n            ]\r\n            };\r\n    },\r\n    methods:{\r\n        getNumber(){\r\n            if (this.service == '' || this.country == ''){\r\n                this.errorInfo = true;\r\n                this.errInfo = '請選擇服務與國家';\r\n            }\r\n            else{\r\n                this.errorInfo = false;\r\n                this.errInfo = '';\r\n                this.$http.get('/api/user/' + this.userId + '/fund')\r\n                    .then((res) => {\r\n                        var fund = res.data.fund;\r\n                        if (fund >= this.country.price){\r\n                            this.$http.get('/api/smspva/getnumber', {\r\n                                params: {service: this.service.value, \r\n                                        country: this.country.value}\r\n                                })\r\n                                .then((response) => {\r\n                                    if(response.data['response'] == \"1\"){\r\n                                        // TODO: 取碼table影響寫這\r\n                                        var amount  = fund -= this.country.price;\r\n                                        this.$http.post('api/user/setAmountOfFund', {\r\n                                            userId: this.userId,\r\n                                            amount: amount\r\n                                        }).\r\n                                        then(() => {\r\n                                            this.$emit('updateHeader', {\r\n                                                fund: amount\r\n                                            });\r\n                                            var smsPvaData = {\r\n                                                country: this.country.Code + this.country.CName + this.country.EName,\r\n                                                service: this.service.name,\r\n                                                countryAPICode : this.country.value,\r\n                                                serviceAPICode: this.service.value,\r\n                                                number: response.data.number,\r\n                                                id: response.data.id,\r\n                                            }\r\n                                            this.appendTable(smsPvaData);\r\n                                            this.startCountDown(this.numberData[this.numberData.length - 1]);\r\n                                            this.$message({\r\n                                                message: '取碼成功, 從帳戶扣除' + this.country.price + '元',\r\n                                                type: 'success'\r\n                                            });\r\n                                        });\r\n                                    }\r\n                                    else{\r\n                                        this.errorInfo = true;\r\n                                        this.errInfo = '取碼失敗, 取消扣款, 請再試一次';\r\n                                        console.error(response.data);\r\n                                    }\r\n                                }).catch((err) => {\r\n                                    console.error(err);\r\n                                    return;\r\n                                });\r\n                        }\r\n                        else{\r\n                            this.errorInfo = true;\r\n                            this.errInfo = '餘額不足, 請確認儲值金額';\r\n                            return;\r\n                        }\r\n                    }).catch((err) => {\r\n                        console.error(err);\r\n                        return;\r\n                    });\r\n            }\r\n        },\r\n\r\n        handleRestore(index, row){\r\n            row.isEnabled = true;\r\n            row.isDeleteButtonEnabled = true;\r\n            row.isRestoreButtonEnabled = false;\r\n            row.isGetMessageButtonVisible = true;\r\n            row.sms = '';\r\n        },\r\n\r\n        handleDelete(index, row){\r\n            row.isEnabled = false;\r\n            row.isRestoreButtonEnabled = true;\r\n            row.isDeleteButtonEnabled = false;\r\n            row.isGetMessageButtonVisible = false;\r\n            row.sms = '';\r\n        },\r\n\r\n        handleGetMessage(index, row){\r\n            this.$http.get('/api/smspva/getSms',\r\n                {\r\n                    params:{\r\n                        country: row.countryAPICode,\r\n                        service: row.serviceAPICode,\r\n                        id: row.id\r\n                    }\r\n                }\r\n            ).then((response) =>{\r\n                if(response.data.response == \"1\"){\r\n                    row.sms = response.data.sms;\r\n                    row.isGetMessageButtonVisible = false;\r\n                    row.isDeleteButtonEnabled = false;\r\n                    row.isRestoreButtonEnabled = false;\r\n                    row.isEnabled =false;\r\n                    this.$message({\r\n                        message: '成功取得訊息!',\r\n                        type: 'success'\r\n                    });\r\n                    this.$http.get('/api/smspva/ban', {\r\n                        params:{\r\n                            service: row.serviceAPICode,\r\n                            id: row.id\r\n                        }\r\n                    })\r\n                }\r\n                else if (response.data.response == \"2\"){\r\n                    this.$message('未接收到訊息, 請20秒後再試一次');\r\n                    var timer = 20000;\r\n                    row.isGetMessageButtonVisible = false;\r\n                    row.sms = '請20秒後再試一次';\r\n                    var clock = window.setInterval(() => {\r\n                        timer -= 1000;\r\n                        row.sms = '請' + (timer/1000) + '秒後再試一次';\r\n                        row.isGetMessageButtonVisible = false;\r\n                        if (timer == 0){\r\n                            row.isGetMessageButtonVisible = true;\r\n                            row.sms = '請再試一次';\r\n                            window.clearInterval(clock);\r\n                            return;\r\n                        }\r\n                    }, 1000);\r\n                }\r\n                else{\r\n                    this.$message({\r\n                        message: '此號碼已超過時限或是完成訊息接收',\r\n                        type: 'warning'\r\n                    });\r\n                    row.isGetMessageButtonVisible = false;\r\n                    row.isDeleteButtonEnabled = false;\r\n                    row.isRestoreButtonEnabled = false;\r\n                    row.isEnabled =false;\r\n                    row.sms == '';\r\n                }\r\n                \r\n            }).catch((err) => {\r\n                console.error(err);\r\n            })\r\n        },\r\n\r\n        tableRowClassName({row}){\r\n            return row.isEnabled ?  '' :  'deleted-row';\r\n        },\r\n\r\n        startCountDown(item){\r\n            var clock = window.setInterval(() => {\r\n                item.timer -= 1000;\r\n                var minutes = Math.floor((item.timer/1000/60) % 60)\r\n                var seconds = Math.floor((item.timer/1000) % 60)\r\n                item.time = (minutes < 10 ? '0' + minutes : minutes) + ':' + (seconds < 10 ? '0' + seconds : seconds);\r\n                if (item.timer == 0){\r\n                    window.clearInterval(clock);\r\n                    item.isEnabled = item.isRestoreButtonEnabled = item.isDeleteButtonEnabled = item.isGetMessageButtonVisible = false;\r\n                    item.sms = '';\r\n                    return;\r\n                }\r\n            }, 1000);\r\n        },\r\n        appendTable(data){\r\n            this.numberData.push({\r\n                id: data.id,\r\n                time: '10:00',\r\n                timer: 600000,//十分鐘的總秒數\r\n                country: data.country,\r\n                number: data.number,\r\n                countryAPICode : data.countryAPICode,\r\n                service: data.service,\r\n                serviceAPICode: data.serviceAPICode,\r\n                sms: '',\r\n                isEnabled: true,\r\n                isRestoreButtonEnabled: false,\r\n                isDeleteButtonEnabled: true,\r\n                isGetMessageButtonVisible: true \r\n            })\r\n        }\r\n    }\r\n}\r\n// //擴充arrary.remove方法\r\n// Array.prototype.remove = function() {\r\n//     var what, a = arguments, L = a.length, ax;\r\n//     while (L && this.length) {\r\n//         what = a[--L];\r\n//         while ((ax = this.indexOf(what)) !== -1) {\r\n//             this.splice(ax, 1);\r\n//         }\r\n//     }\r\n//     return this;\r\n// };\r\n</script>\r\n\r\n<style>\r\n  .el-table .deleted-row {\r\n    /* background: lightcoral; */\r\n    opacity: 0.8;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./smspva.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./smspva.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./smspva.vue?vue&type=template&id=416b9f9a&\"\nimport script from \"./smspva.vue?vue&type=script&lang=js&\"\nexport * from \"./smspva.vue?vue&type=script&lang=js&\"\nimport style0 from \"./smspva.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}