(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55ade98a"],{"5c69":function(r,e,t){"use strict";var o=t("a94c"),a=t.n(o);a.a},a94c:function(r,e,t){},c6f7:function(r,e,t){"use strict";t.r(e);var o=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",[t("div",{staticClass:"login-title"},[r._v("會員登入")]),t("div",{staticClass:"login-form"},[t("el-form",{ref:"ruleForm",attrs:{model:r.ruleForm,rules:r.rules}},[t("el-form-item",{attrs:{prop:"account"}},[t("el-input",{attrs:{placeholder:"電子郵件","prefix-icon":"el-icon-user"},model:{value:r.ruleForm.account,callback:function(e){r.$set(r.ruleForm,"account",e)},expression:"ruleForm.account"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{placeholder:"密碼","prefix-icon":"el-icon-lock","show-password":""},model:{value:r.ruleForm.password,callback:function(e){r.$set(r.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),r.errorInfo?t("div",[t("span",{staticStyle:{color:"red"}},[r._v(r._s(r.errInfo))])]):r._e(),t("div",[t("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),r.submitForm("ruleForm")}}},[r._v("登陸")])],1),t("router-link",{staticClass:"register-router-link",attrs:{to:"register"}},[r._v("註冊")])],1)],1)])},a=[],s={props:{from:{type:String,default:""}},data:function(){return{errorInfo:!1,ruleForm:{account:"",password:""},rules:{account:[{required:!0,message:"請輸入電子郵件",trigger:"blur"},{required:!0,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,message:"請輸入電子郵件格式",trigger:"blur"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{min:2,max:18,message:"密碼長度應為2~18個字元"}]},msg:"Welcome"}},methods:{submitForm:function(r){var e=this;this.$refs[r].validate((function(r){r?e.$http.post("/api/user/login",e.ruleForm).then((function(r){0==r.data?(e.errorInfo=!0,e.errInfo="查無此帳號, 請確認電子郵件是否輸入正確"):-1==r.data?(e.errorInfo=!0,e.errInfo="密碼錯誤"):200==r.status&&(console.log("login success"),e.$emit("updateHeader",r.data),e.$router.push({name:"快速取碼",params:{userId:r.data.id}}))})).catch((function(r){console.error(r)})):console.log("error submit!!")}))}}},n=s,l=(t("5c69"),t("2877")),u=Object(l["a"])(n,o,a,!1,null,"00c475a0",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-55ade98a.f8874546.js.map